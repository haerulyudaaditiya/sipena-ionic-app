<ion-header [translucent]="true">
  <ion-toolbar class="centered-toolbar">
    <ion-buttons slot="start">
      <ion-button fill="clear" (click)="goBack()">
        <ion-icon name="chevron-back-outline" slot="icon-only" style="font-size: 24px;"></ion-icon>
      </ion-button>
    </ion-buttons>
    <div slot="primary" class="centered-title">Ajukan Cuti</div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="form-container">
    <ion-card>
      <ion-card-content>

        <!-- Jenis Cuti -->
        <ion-item>
          <ion-label position="floating">Jenis Cuti</ion-label>
          <ion-select interface="popover" [(ngModel)]="jenisCuti">
            <ion-select-option value="Tahunan">Tahunan</ion-select-option>
            <ion-select-option value="Sakit">Sakit</ion-select-option>
            <ion-select-option value="Izin">Keperluan Pribadi</ion-select-option>
            <ion-select-option value="Lainnya">Lainnya</ion-select-option>
          </ion-select>
        </ion-item>

        <!-- Waktu Mulai -->
        <ion-item button (click)="showStartTimePicker = !showStartTimePicker">
          <ion-label>Waktu Mulai</ion-label>
          <ion-text>{{ startTime || 'Pilih Tanggal' }}</ion-text>
        </ion-item>
        <div *ngIf="showStartTimePicker" class="datetime-wrapper">
          <ion-datetime
            [value]="tempStartTime"
            (ionChange)="onTempStartTimeChange($event)"
            presentation="date"
            locale="id-ID"
            preferWheel="false">
          </ion-datetime>
          <ion-button size="small" expand="block" class="datetime-button" (click)="confirmStartTime()">
            Pilih
          </ion-button>
        </div>

        <!-- Waktu Selesai -->
        <ion-item button (click)="showEndTimePicker = !showEndTimePicker">
          <ion-label>Waktu Selesai</ion-label>
          <ion-text>{{ endTime || 'Pilih Tanggal' }}</ion-text>
        </ion-item>
        <div *ngIf="showEndTimePicker" class="datetime-wrapper">
          <ion-datetime
            [value]="tempEndTime"
            (ionChange)="onTempEndTimeChange($event)"
            presentation="date"
            locale="id-ID"
            preferWheel="false">
          </ion-datetime>
          <ion-button size="small" expand="block" class="datetime-button" (click)="confirmEndTime()">
            Pilih
          </ion-button>
        </div>

        <!-- Alasan -->
        <ion-item>
          <ion-label position="floating">Alasan</ion-label>
          <ion-textarea [(ngModel)]="alasan"></ion-textarea>
        </ion-item>

        <!-- Kontak Saat Cuti -->
        <ion-item>
          <ion-label position="floating">Kontak Saat Cuti</ion-label>
          <ion-input [(ngModel)]="kontakCuti"></ion-input>
        </ion-item>

        <!-- Tombol Ajukan -->
        <ion-button expand="block" class="submit-button" (click)="ajukanCuti()">
          Ajukan Cuti
        </ion-button>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>

